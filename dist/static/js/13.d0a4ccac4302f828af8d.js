webpackJsonp([13],{CB6x:function(e,t){},RY5e:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("qGD+"),r=o("W2KW"),i=o("4/BI"),l=o.n(i),n={data:function(){return{checkList:["time","busType","numTotal","operate"],checkLists:[],selectionList:[],other:{selection:!0,ref:"table",selectionEvent:this.selectionEvents},dialogBox:{boxShow:!1},analysisList:[{title:"总利润",numTotal:5252,color:"#43D05D",description:""},{title:"今日到账",numTotal:5252,color:"#5C8EFF",description:"每日上午10:00完成昨日结算"},{title:"未到账",numTotal:1332,color:"#FF7A94",description:""}],pageObj:{pageSize:8,total:0,currentPage:1},tableData:[],formConfig:{labelWidth:"80px",ref:"formModel",inline:!0,labelPosition:"right",marginRight:"10px",formItemList:[{type:"date",prop:"date",width:"180px",label:"日期",placeholder:"请输入日期"},{type:"date",dateType:"daterange",prop:"dateTime",width:"280px",label:"时间查询",placeholder:"请输入时间"},{type:"select",prop:"area",width:"180px",label:"区域选择",placeholder:"请选择区域",arrList:[{label:"区域一",value:0},{label:"区域二",value:1},{label:"区域三",value:2}]},{type:"text",prop:"name",width:"180px",label:"姓名",placeholder:"姓名"}],operate:[{name:"查询",handleClick:this.search},{name:"添加",handleClick:this.addData},{name:"重置",type:"transparent",handleClick:this.resetForm}],formModel:{dateTime:[],date:"",name:"",area:""}},formConfigs:{labelWidth:"80px",ref:"formModels",labelPosition:"right",marginRight:"10px",formItemList:[{type:"date",prop:"date",width:"450px",label:"时间",placeholder:"请输入时间"},{type:"text",prop:"type",width:"450px",label:"交易类型",placeholder:"交易类型"},{type:"text",prop:"money",width:"450px",label:"收益金额",placeholder:"收益金额"}],formModel:{date:"",type:"",money:""},rules:{date:[{required:!0,validator:l.a.FormValidate.Form("日期").NoEmpty,trigger:"blur"}],type:[{required:!0,validator:l.a.FormValidate.Form("交易类型").NoEmpty,trigger:"blur"}],money:[{required:!0,validator:l.a.FormValidate.Form("收益金额").NoEmpty,trigger:"blur"}]}},columns:[]}},created:function(){},mounted:function(){this.getDataList(),this.checkChange()},methods:{checkChange:function(){var e=this,t=[{prop:"time",label:"时间"},{prop:"busType",label:"交易类型"},{prop:"numTotal",label:"收益金额",render:function(t,o){return t("span",{style:{color:"#43D05D"}},e.$options.filters.NumFormat(o.row.numTotal,"￥"))}},{prop:"operate",align:"center",label:"操作",render:function(t,o){return t("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},[t("div",{style:{color:"#005da9",padding:"0 10px",cursor:"pointer"},on:{click:function(){e.$refs.formModels&&e.$refs.formModels.$refs.formModels.resetFields(),e.formConfigs.formModel={date:o.row.time,type:o.row.busType,money:o.row.numTotal},e.dialogBox.boxShow=!0}}},"编辑"),t("div",{style:{color:"#e36319",padding:"0 10px",cursor:"pointer"},on:{click:function(){e.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.tableData.splice(o.index,1)}).catch(function(){})}}},"删除")])}}],o=[];t.forEach(function(e){o.push({label:e.label,prop:e.prop})}),this.checkLists=o;var a=[];t.forEach(function(t){-1!==e.checkList.indexOf(t.prop)&&a.push(t)}),this.columns=a},getDataList:function(){var e=this;this.$api.tableList.dataLists().then(function(t){e.pageObj.total=t.data.total;var o=t.data.dataList;e.tableData=o,e.$nextTick(function(){e.$refs.table.$refs.table.toggleRowSelection(e.tableData[0],!0)})})},selectionEvents:function(e){this.selectionList=e},search:function(){},addData:function(e){this.formConfigs.formModel={date:"",type:"",money:""},this.$refs.formModels&&this.$refs.formModels.$refs.formModels.resetFields(),this.dialogBox.boxShow=!0},confirSubmit:function(){var e=this;this.$refs.formModels.$refs.formModels.validate(function(t){t?e.dialogBox.boxShow=!1:(e.$message.closeAll(),e.$message.warning("信息校验失败"))})},resetForm:function(e){this.$refs[e].$refs[e].resetFields()}},components:{MyTable:a.a,MyForm:r.a},computed:{}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"index-analysis"},[o("h2",[e._v("查询表格")]),e._v(" "),o("el-row",{attrs:{gutter:48}},e._l(e.analysisList,function(t,a){return o("el-col",{key:a,attrs:{lg:8}},[o("div",{staticClass:"analysis-box"},[o("div",{staticClass:"box-title"},[o("span",[e._v(e._s(t.title))])]),e._v(" "),o("div",{staticClass:"box-total",style:{color:t.color}},[e._v("\n          "+e._s(e._f("NumFormat")(t.numTotal,"￥"))+"\n        ")]),e._v(" "),o("div",{staticClass:"box-description"},[e._v("\n          "+e._s(t.description)+"\n        ")])])])}),1),e._v(" "),o("div",{staticClass:"analysis-table"},[o("my-form",{ref:e.formConfig.ref,attrs:{formConfig:e.formConfig}}),e._v(" "),o("div",{staticClass:"check-list"},[o("el-checkbox-group",{on:{change:e.checkChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.checkLists,function(t,a){return o("el-checkbox",{key:a,attrs:{label:t.prop}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),o("my-table",{ref:e.other.ref,attrs:{data:e.tableData,columns:e.columns,other:e.other}}),e._v(" "),o("div",{staticClass:"page-list"},[o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pageObj.currentPage,"page-size":e.pageObj.pageSize,total:e.pageObj.total},on:{"update:currentPage":function(t){return e.$set(e.pageObj,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pageObj,"currentPage",t)},"current-change":e.getDataList}})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"交易统计",visible:e.dialogBox.boxShow,width:"640px"},on:{"update:visible":function(t){return e.$set(e.dialogBox,"boxShow",t)}}},[o("my-form",{ref:e.formConfigs.ref,attrs:{formConfig:e.formConfigs}}),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogBox.boxShow=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.confirSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(n,s,!1,function(e){o("CB6x")},"data-v-07ab005c",null);t.default=c.exports}});